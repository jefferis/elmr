<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Bridge light and EM flybrain datasets — elmr-package • elmr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Bridge light and EM flybrain datasets — elmr-package" />
<meta property="og:description" content="elmr builds on the nat and catmaid
packages to provide tools to read, analyse, plot, transform and convert
neuroanatomical data, especially as it relates to whole brain EM volumes
generated at the HHMI Janelia Research Campus (groups of Davi Bock, Stephan
Saalfeld and many collaborators)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">elmr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/articles/multiple_somata.html">Finding Neurons with Multiple Somata</a>
    </li>
    <li>
      <a href="../articles/landmarks.html">Landmarks defining transforms</a>
    </li>
    <li>
      <a href="../articles/making_meshes.html">Making Surface Meshes</a>
    </li>
    <li>
      <a href="../articles/selecting_random_synapses.html">Selecting random synapses</a>
    </li>
    <li>
      <a href="../articles/xform_brain.html">Transforming from FAFB to other templates</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="../SUPPORT.html">Help</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://natverse.github.io">natverse</a>
</li>
<li>
  <a href="https://github.com/natverse/elmr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Bridge light and EM flybrain datasets</h1>
    <small class="dont-index">Source: <a href='https://github.com/natverse/elmr/blob/master/R/elmr-package.R'><code>R/elmr-package.R</code></a></small>
    <div class="hidden name"><code>elmr-package.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><b><code>elmr</code></b> builds on the <b><code>nat</code></b> and <b><code>catmaid</code></b>
packages to provide tools to read, analyse, plot, transform and convert
neuroanatomical data, especially as it relates to whole brain EM volumes
generated at the HHMI Janelia Research Campus (groups of Davi Bock, Stephan
Saalfeld and many collaborators).</p>
    </div>



    <h2 class="hasAnchor" id="interesting-functions-data"><a class="anchor" href="#interesting-functions-data"></a>Interesting functions/data</h2>

    


<p></p><ul>
<li><p><code><a href='https://rdrr.io/pkg/nat.templatebrains/man/xform_brain.html'>xform_brain</a></code></p>
<p>allows you to transform FAFB data into a large number of other template
  brain spaces by making use of the <code>nat.templatebrains</code> and
  <code>nat.flybrains</code> packages. The ability to move beyond the
  <code><a href='https://rdrr.io/pkg/nat.flybrains/man/JFRC2013.html'>JFRC2013</a></code> template brain depends on having a
  functional CMTK installation. See <code><a href='https://rdrr.io/pkg/nat/man/cmtk.bindir.html'>cmtk.bindir</a></code> for more
  information and advice about installation.</p></li>
<li><p><code><a href='fetchn_fafb.html'>fetchn_fafb</a></code> allows you to fetch FAFB CATMAID tracings
  and transform to a new template.</p></li>
<li><p><code><a href='nblast_fafb.html'>nblast_fafb</a></code> allows you to NBLAST CATMAID tracings
  against a set of neuron skeletons e.g. from FlyCircuit.</p></li>
<li><p><code><a href='open_fafb.html'>open_fafb</a></code> allows you to open a CATMAID session in your
  browser at a specific xyz location based on selecting a position in any
  template brain space e.g. a <code>flycircuit.tw</code> neuron or a JFRC2010
  registered GAL4 line.</p></li>
<li><p><code><a href='FAFB.html'>FAFB</a></code> a <code><a href='https://rdrr.io/pkg/nat.templatebrains/man/templatebrain.html'>templatebrain</a></code>
  object specifying the dimensions of the FAFB EM volume.</p></li>
<li><p><code><a href='elm.landmarks.html'>elm.landmarks</a></code> a set of landmarks that can define a thin
  plate spline transform mapping FAFB to light level template brains.</p></li>
</ul>

    <h2 class="hasAnchor" id="authentication"><a class="anchor" href="#authentication"></a>Authentication</h2>

    <p>Interacting with a CATMAID server will normally
  require authentication. Please see
  <a href='https://github.com/jefferis/rcatmaid#Authentication'>https://github.com/jefferis/rcatmaid#Authentication</a> for details of
  how to set up authentication. If you regularly use a particular CATMAID
  server it is recommended to put authentication in your
  <code><a href='https://rdrr.io/r/base/Startup.html'>Rprofile</a></code> file.</p>
    <h2 class="hasAnchor" id="options"><a class="anchor" href="#options"></a>Options</h2>

    <p>There is one package option:</p><ul>
<li><p><code>elmr.nblast.cores</code> Set the default number of cores to use for
  parallel NBLAST You will need to ensure that the doParallel package (a
  suggested but not strict dependency of elmr is installed)</p></li>
</ul>

<p>You can set this option in your <code><a href='https://rdrr.io/r/base/Startup.html'>Rprofile</a></code> file.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Useful links:</p><ul>
<li><p><a href='https://github.com/natverse/elmr'>https://github.com/natverse/elmr</a></p></li>
<li><p>Report bugs at <a href='https://github.com/natverse/elmr/issues'>https://github.com/natverse/elmr/issues</a></p></li>
</ul>

</div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># position of antennal lobe glomeruli "V" in JFRC2013 template brain</span>
<span class='no'>vgloms.jfrc2013</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>X</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>316</span>,<span class='fl'>229</span>),
  <span class='kw'>Y</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>143</span>, <span class='fl'>139</span>),
  <span class='kw'>Z</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>26</span>,<span class='fl'>22</span>),
  <span class='kw'>row.names</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"V_L"</span>, <span class='st'>"V_R"</span>))
<span class='co'># Convert to FAFB12 coordinates</span>
<span class='fu'>xform_brain</span>(<span class='no'>vgloms.jfrc2013</span>, <span class='kw'>sample</span> <span class='kw'>=</span> <span class='no'>JFRC2013</span>, <span class='kw'>reference</span> <span class='kw'>=</span> <span class='no'>FAFB</span>)</div><div class='output co'>#&gt;            X        Y        Z
#&gt; V_L 580356.0 291205.7 61258.68
#&gt; V_R 465140.9 278772.5 63947.43</div><div class='input'>
<span class='co'># Show state of elmr package options</span>
<span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span>()[<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span>(<span class='st'>'^elmr'</span>, <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span>()))]</div><div class='output co'>#&gt; named list()</div><div class='input'>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># Conversion of neurons from FlyCircuit template</span>
<span class='co'># NB this conversion depends on a full install of nat.flybrains and CMTK</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>nat</span>)
<span class='no'>kcs13.fafb</span><span class='kw'>=</span><span class='fu'>xform_brain</span>(<span class='no'>kcs20</span>[<span class='fl'>1</span>:<span class='fl'>3</span>], <span class='kw'>sample</span><span class='kw'>=</span><span class='no'>FCWB</span>, <span class='kw'>reference</span><span class='kw'>=</span><span class='no'>FAFB</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Gregory Jefferis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '9af2dfacacefe7a9e5431ffc3dbefbba',
    indexName: 'elmr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


